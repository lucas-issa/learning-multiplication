(this["webpackJsonplearning-multiplication"]=this["webpackJsonplearning-multiplication"]||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(14),i=a.n(o),r=a(6),c=a(7),l=a(15);r.a.use(l.a).use(c.e).init({resources:{en:{translation:{"App title":"Learning multiplication",Go:"Go",Reset:"Reset",Next:"Next",Reveal:"Reveal","Reveal all":"Reveal all",Global:"Global","Until reset":"Until reset","Type a number":"Type a number","Try again":"Try again","Congratulations!!!":"Congratulations!!!","Congratulations! You can be faster!":"Congratulations! You can be faster!","Right but slow":"Right but slow","To study":"To study",items:"items","Total negative points":"Total negative points","negative points":"negative points"}},"pt-BR":{translation:{"App title":"Aprendendo multiplica\xe7\xe3o",Go:"Ir",Reset:"Limpar",Next:"Pr\xf3ximo",Reveal:"Revelar","Reveal all":"Revelar todos",Global:"Global","Until reset":"At\xe9 limpar","Type a number":"Digite um n\xfamero","Try again":"Tente novamente","Congratulations!!!":"Parab\xe9ns!!!","Congratulations! You can be faster!":"Parab\xe9ns! Voc\xea pode ser mais r\xe1pido!","Right but slow":"Certo, mas lento","To study":"A estudar",items:"itens","Total negative points":"Total de pontos negativos","negative points":"pontos negativos"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});a(30),a(31);var m=a(10),u=a(18),g=a(11),p=a(19),v=a(20),h=a(24),d=a(23),f=(a(32),a(40));var k=function(e){var t=e.stats,a=e.type,s=t.hits,o=t.hitsLate,i=t.hitsTooLate,r=t.misses,c=t.skips,l=t.reveals,m=t.speed;return n.a.createElement("div",{className:"stats"},n.a.createElement("div",{className:"stats-type"},a),n.a.createElement("div",null,n.a.createElement("span",{className:"hits stats-item"},s),o>0&&n.a.createElement("span",{className:"hits-late stats-item"},o),i>0&&n.a.createElement("span",{className:"hits-too-late stats-item"},i),c>0&&n.a.createElement("span",{className:"skips stats-item"},c),l>0&&n.a.createElement("span",{className:"reveals stats-item"},l),r>0&&n.a.createElement("span",{className:"misses stats-item"},r),m>0&&n.a.createElement("span",{className:"speed stats-item"},n.a.createElement("small",null,m.toFixed(0),n.a.createElement("small",null,"/min.")))))},C=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={message:"",messageClassName:"",factor1:null,factor2:null,result:null,resultTry:"",stats:{temp:{hits:0,hitsLate:0,hitsTooLate:0,misses:0,skips:0,reveals:0,speed:0},global:{hits:0,hitsLate:0,hitsTooLate:0,misses:0,skips:0,reveals:0,speed:0}},seconds:0},e.timer=void 0,e.secondsLate=10,e.secondsTooLate=18,e.toComeBack=new Map,e.comeBackControl={count:0},e.input=void 0,e.generateToComeBack=function(e,t){return"".concat(e,"x").concat(t)},e.incrementToComeBack=function(){var t=e.state,a=t.factor1,s=t.factor2,n=t.result,o=e.generateToComeBack(a,s),i=e.toComeBack.get(o);i||(i={factor1:a,factor2:s,result:n,count:0},e.toComeBack.set(o,i)),i.count++},e.decrementToComeBack=function(t,a){var s=e.generateToComeBack(t,a),n=e.toComeBack.get(s);n&&(n.count--,n.count<=0&&e.toComeBack.delete(s))},e.mesgTimeout=void 0,e.randomFactor=function(){return Math.round(10*Math.random())},e.decideComeBack=function(){return 0!==e.toComeBack.size&&(t=e.toComeBack.size>=12?2:e.toComeBack.size>=6?4:6,e.comeBackControl.count>=t);var t},e.randomFactors=function(){e.comeBackControl.count++;var t,a,s,n=!1;e.decideComeBack()&&(console.log("useComeBack, count: ".concat(e.comeBackControl.count,", size: ").concat(e.toComeBack.size)),e.comeBackControl.count=0,n=!0);if(n){var o=Object(g.a)(e.toComeBack.values()),i=Math.round(Math.random()*(o.length-1));console.log("useComeBack, i: ".concat(i));var r=o[i];t=r.factor1,a=r.factor2,s=r.result,console.log("useComeBack",e.generateToComeBack(t,a))}else s=(t=e.randomFactor())*(a=e.randomFactor());e.setState({factor1:t,factor2:a,result:s,resultTry:"",seconds:0}),e.focus()},e.onChange=function(t){var a=t.target.value,s=""===a?"":Number(a);e.setState({resultTry:s})},e.go=function(){var t=e.props.t,a=e.state,s=a.result,n=a.resultTry,o=a.seconds;if(s===n){if(o>=e.secondsTooLate)e.emitMessage(t("Right but slow"),"success-too-late"),e.incrementToComeBack(),e.incrementStat("hitsTooLate",!0);else if(o>=e.secondsLate)e.emitMessage(t("Congratulations! You can be faster!"),"success-late"),e.incrementToComeBack(),e.incrementStat("hitsLate",!0);else{e.emitMessage(t("Congratulations!!!"),"success");var i=e.state,r=i.factor1,c=i.factor2;e.decrementToComeBack(r,c),e.incrementStat("hits",!0)}e.randomFactors()}else""===n||n===Number.NaN?e.emitMessage("".concat(t("Type a number"),"..."),"failure"):n>100?e.emitMessage("Type a number smaller than 100...","failure"):n<0?e.emitMessage("Type a positive number...","failure"):Math.round(n)!==n?e.emitMessage("Type a rounded number...","failure"):(e.emitMessage("".concat(t("Try again"),"..."),"failure"),e.incrementToComeBack(),e.incrementStat("misses")),e.focus()},e.onSubmit=function(t){t.preventDefault(),e.go()},e.reset=function(){e.randomFactors(),e.setState({stats:{temp:{hits:0,hitsLate:0,hitsTooLate:0,misses:0,skips:0,reveals:0,speed:0},global:e.state.stats.global}},e.save)},e.reveal=function(){e.emitMessage(e.state.result.toString(10)),e.incrementToComeBack(),e.incrementStat("reveals"),e.focus()},e.skip=function(){e.incrementToComeBack(),e.randomFactors(),e.incrementStat("skips")},e.load=function(){var t=JSON.parse(localStorage.getItem("stats"));t&&t.global&&e.setState({stats:t});var a=JSON.parse(localStorage.getItem("toComeBack"));a&&a.toComeBack&&Object.keys(a.toComeBack).forEach((function(t){e.toComeBack.set(t,a.toComeBack[t])}))},e.save=function(){localStorage.setItem("stats",JSON.stringify(e.state.stats));var t,a={},s=Object(u.a)(e.toComeBack.entries());try{for(s.s();!(t=s.n()).done;){var n=t.value;a[n[0]]=n[1]}}catch(o){s.e(o)}finally{s.f()}localStorage.setItem("toComeBack",JSON.stringify({toComeBack:a}))},e.getTimerClass=function(t){return t>=e.secondsTooLate?"timer-critical":t>=e.secondsLate?"timer-warn":"timer-ok"},e.getPracticeList=function(){return Object(g.a)(e.toComeBack.entries()).map((function(e){return Object(m.a)({key:e[0]},e[1])})).sort((function(e,t){var a=t.count-e.count;return 0===a&&(a=e.key.localeCompare(t.key)),a}))},e.showPracticeResults=!1,e.showPracticeResultsTimer=void 0,e.revealAll=function(){e.showPracticeResultsTimer&&(clearTimeout(e.showPracticeResultsTimer),e.showPracticeResultsTimer=null),e.showPracticeResults=!0,setTimeout((function(){e.showPracticeResults=!1}),2500*e.toComeBack.size)},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.load(),this.randomFactors(),this.timer=setInterval((function(){e.setState({seconds:e.state.seconds+1})}),1e3),setTimeout((function(){e.input.focus()}),250)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getTimeToShowMessage",value:function(e){if("number"===typeof e){return 3e3}var t=e.split(" ").length;return 400+50*e.length+200*t}},{key:"emitMessage",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.mesgTimeout&&(clearTimeout(this.mesgTimeout),this.mesgTimeout=null),this.setState({message:e,messageClassName:a}),this.mesgTimeout=setTimeout((function(){t.setState({message:"",messageClassName:""})}),this.getTimeToShowMessage(e))}},{key:"calculeteNewSpeedAverage",value:function(e,t){var a=e.hits+e.hitsLate+e.hitsTooLate,s=0===t?90:60/t;return e.speed&&1!==a?e.speed/a*(a-1)+s/a:s}},{key:"incrementStat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(m.a)({},this.state.stats.temp),s=Object(m.a)({},this.state.stats.global);if(a[e]=a[e]+1,s[e]=s[e]+1,t){var n="speed",o=this.state.seconds;a[n]=this.calculeteNewSpeedAverage(a,o),s[n]=this.calculeteNewSpeedAverage(s,o)}this.setState({stats:{temp:a,global:s}},this.save)}},{key:"focus",value:function(){this.input.blur(),this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,s=a.message,o=a.messageClassName,i=a.factor1,r=a.factor2,c=a.resultTry,l=a.stats,m=a.seconds,u=this.getPracticeList(),g=u.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);return n.a.createElement("div",{className:"factors"},n.a.createElement("div",{className:"message"},n.a.createElement("span",{className:o},s)),n.a.createElement("div",{className:"operation"},n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("div",null,i," x ",r," = ",n.a.createElement("input",{type:"number",maxLength:2,max:100,min:0,value:c,onChange:this.onChange,ref:function(t){e.input=t}}),n.a.createElement("button",{type:"submit",className:"hits"},t("Go"))),n.a.createElement("div",{className:"timer ".concat(this.getTimerClass(m))},m,"s"))),n.a.createElement("div",null,n.a.createElement("button",{className:"reset",onClick:this.reset},t("Reset")),n.a.createElement("button",{className:"skips",onClick:this.skip},t("Next")),n.a.createElement("button",{className:"reveals",onClick:this.reveal},t("Reveal"))),n.a.createElement(k,{stats:l.temp,type:t("Until reset")}),n.a.createElement(k,{stats:l.global,type:t("Global")}),u.length>0&&n.a.createElement("div",{className:"practice"},n.a.createElement("div",{className:"practice-title"},t("To study")," (",this.toComeBack.size," ",t("items"),")"),n.a.createElement("div",{className:"practice-title no-fast-hit"},t("Total negative points"),": ",g),n.a.createElement("div",{className:"practice-list"},u.map((function(a){return n.a.createElement("div",{key:a.key},a.key," ",e.showPracticeResults&&n.a.createElement("span",null,"= ",n.a.createElement("span",{className:"reveals"},a.result))," ",n.a.createElement("span",{className:"no-fast-hit"},"(",t("negative points"),": ",a.count,")"))}))),n.a.createElement("div",{className:"operation"},n.a.createElement("button",{className:"reveals",onClick:this.revealAll},t("Reveal all")))))}}]),a}(n.a.Component),b=Object(f.a)()(C),T=a(22),E=function(){return n.a.createElement("span",{className:"change-language"},n.a.createElement("select",{value:r.a.language,onChange:function(e){r.a.changeLanguage(e.target.value)}},n.a.createElement("option",{value:"en"},"English"),n.a.createElement("option",{value:"pt-BR"},"Portugu\xeas")))};var y=function(){var e=Object(T.a)().t;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("span",{className:"title"},e("App title")),n.a.createElement("span",{className:"github-link"},n.a.createElement("a",{href:"https://github.com/lucas-issa/learning-multiplication",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("svg",{className:"octicon octicon-mark-github v-align-middle",height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"},n.a.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"}))))),n.a.createElement(E,null),n.a.createElement(b,null))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");N?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.9e08febf.chunk.js.map