(this["webpackJsonplearning-multiplication"]=this["webpackJsonplearning-multiplication"]||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(14),i=a.n(o),r=a(6),c=a(7),l=a(15);r.a.use(l.a).use(c.e).init({resources:{en:{translation:{"App title":"Learning multiplication",Go:"Go",Reset:"Reset",Next:"Next",Reveal:"Reveal","Reveal all":"Reveal all",Global:"Global","Until reset":"Until reset","Type a number":"Type a number","Try again":"Try again","Congratulations!!!":"Congratulations!!!","Congratulations! You can be faster!":"Congratulations! You can be faster!","Right but slow":"Right but slow","To study":"To study",items:"items","Total negative points":"Total negative points","negative points":"negative points"}},"pt-BR":{translation:{"App title":"Aprendendo multiplica\xe7\xe3o",Go:"Go",Reset:"Limpar",Next:"Pr\xf3ximo",Reveal:"Revelar","Reveal all":"Revelar todos",Global:"Global","Until reset":"At\xe9 limpar","Type a number":"Digite um n\xfamero","Try again":"Tente novamente","Congratulations!!!":"Parab\xe9ns!!!","Congratulations! You can be faster!":"Parab\xe9ns! Voc\xea pode ser mais r\xe1pido!","Right but slow":"Certo, mas lento","To study":"A estudar",items:"itens","Total negative points":"Total de pontos negativos","negative points":"pontos negativos"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});a(30),a(31);var m=a(10),u=a(18),g=a(11),v=a(19),p=a(20),f=a(24),h=a(23),d=(a(32),a(40)),k=function(e){var t=e.stats,a=e.type,n=t.hits,o=t.hitsLate,i=t.hitsTooLate,r=t.misses,c=t.skips,l=t.reveals;return s.a.createElement("div",{className:"stats"},s.a.createElement("div",{className:"stats-type"},a),s.a.createElement("div",null,s.a.createElement("span",{className:"hits stats-item"},n),o>0&&s.a.createElement("span",{className:"hits-late stats-item"},o),i>0&&s.a.createElement("span",{className:"hits-too-late stats-item"},i),c>0&&s.a.createElement("span",{className:"skips stats-item"},c),l>0&&s.a.createElement("span",{className:"reveals stats-item"},l),r>0&&s.a.createElement("span",{className:"misses stats-item"},r)))};var C=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={message:"",messageClassName:"",factor1:null,factor2:null,result:null,resultTry:"",stats:{temp:{hits:0,hitsLate:0,hitsTooLate:0,misses:0,skips:0,reveals:0},global:{hits:0,hitsLate:0,hitsTooLate:0,misses:0,skips:0,reveals:0}},seconds:0},e.timer=void 0,e.secondsLate=10,e.secondsTooLate=18,e.toComeBack=new Map,e.comeBackControl={count:0},e.input=void 0,e.generateToComeBack=function(e,t){return"".concat(e,"x").concat(t)},e.incrementToComeBack=function(){var t=e.state,a=t.factor1,n=t.factor2,s=t.result,o=e.generateToComeBack(a,n),i=e.toComeBack.get(o);i||(i={factor1:a,factor2:n,result:s,count:0},e.toComeBack.set(o,i)),i.count++},e.decrementToComeBack=function(t,a){var n=e.generateToComeBack(t,a),s=e.toComeBack.get(n);s&&(s.count--,s.count<=0&&e.toComeBack.delete(n))},e.mesgTimeout=void 0,e.randomFactor=function(){return Math.round(10*Math.random())},e.decideComeBack=function(){return 0!==e.toComeBack.size&&(t=e.toComeBack.size>=12?2:e.toComeBack.size>=6?4:6,e.comeBackControl.count>=t);var t},e.randomFactors=function(){e.comeBackControl.count++;var t,a,n,s=!1;e.decideComeBack()&&(console.log("useComeBack, count: ".concat(e.comeBackControl.count,", size: ").concat(e.toComeBack.size)),e.comeBackControl.count=0,s=!0);if(s){var o=Object(g.a)(e.toComeBack.values()),i=Math.round(Math.random()*(o.length-1));console.log("useComeBack, i: ".concat(i));var r=o[i];t=r.factor1,a=r.factor2,n=r.result,console.log("useComeBack",e.generateToComeBack(t,a))}else n=(t=e.randomFactor())*(a=e.randomFactor());e.setState({factor1:t,factor2:a,result:n,resultTry:"",seconds:0}),e.focus()},e.onChange=function(t){var a=t.target.value,n=""===a?"":Number(a);e.setState({resultTry:n})},e.go=function(){var t=e.props.t,a=e.state,n=a.result,s=a.resultTry,o=a.seconds;if(n===s){if(o>=e.secondsTooLate)e.emitMessage(t("Right but slow"),"success-too-late"),e.incrementToComeBack(),e.incrementStat("hitsTooLate");else if(o>=e.secondsLate)e.emitMessage(t("Congratulations! You can be faster!"),"success-late"),e.incrementToComeBack(),e.incrementStat("hitsLate");else{e.emitMessage(t("Congratulations!!!"),"success");var i=e.state,r=i.factor1,c=i.factor2;e.decrementToComeBack(r,c),e.incrementStat("hits")}e.randomFactors()}else""===s||s===Number.NaN?e.emitMessage("".concat(t("Type a number"),"..."),"failure"):s>100?e.emitMessage("Type a number smaller than 100...","failure"):s<0?e.emitMessage("Type a positive number...","failure"):Math.round(s)!==s?e.emitMessage("Type a rounded number...","failure"):(e.emitMessage("".concat(t("Try again"),"..."),"failure"),e.incrementToComeBack(),e.incrementStat("misses")),e.focus()},e.onSubmit=function(t){t.preventDefault(),e.go()},e.reset=function(){e.randomFactors(),e.setState({stats:{temp:{hits:0,hitsLate:0,hitsTooLate:0,misses:0,skips:0,reveals:0},global:e.state.stats.global}},e.save)},e.reveal=function(){e.emitMessage(e.state.result.toString(10)),e.incrementToComeBack(),e.incrementStat("reveals"),e.focus()},e.skip=function(){e.incrementToComeBack(),e.randomFactors(),e.incrementStat("skips")},e.load=function(){var t=JSON.parse(localStorage.getItem("stats"));t&&t.global&&e.setState({stats:t});var a=JSON.parse(localStorage.getItem("toComeBack"));a&&a.toComeBack&&Object.keys(a.toComeBack).forEach((function(t){e.toComeBack.set(t,a.toComeBack[t])}))},e.save=function(){localStorage.setItem("stats",JSON.stringify(e.state.stats));var t,a={},n=Object(u.a)(e.toComeBack.entries());try{for(n.s();!(t=n.n()).done;){var s=t.value;a[s[0]]=s[1]}}catch(o){n.e(o)}finally{n.f()}localStorage.setItem("toComeBack",JSON.stringify({toComeBack:a}))},e.getTimerClass=function(t){return t>=e.secondsTooLate?"timer-critical":t>=e.secondsLate?"timer-warn":"timer-ok"},e.getPracticeList=function(){return Object(g.a)(e.toComeBack.entries()).map((function(e){return Object(m.a)({key:e[0]},e[1])})).sort((function(e,t){var a=t.count-e.count;return 0===a&&(a=e.key.localeCompare(t.key)),a}))},e.showPracticeResults=!1,e.showPracticeResultsTimer=void 0,e.revealAll=function(){e.showPracticeResultsTimer&&(clearTimeout(e.showPracticeResultsTimer),e.showPracticeResultsTimer=null),e.showPracticeResults=!0,setTimeout((function(){e.showPracticeResults=!1}),2500*e.toComeBack.size)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.load(),this.randomFactors(),this.timer=setInterval((function(){e.setState({seconds:e.state.seconds+1})}),1e3),setTimeout((function(){e.input.focus()}),250)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getTimeToShowMessage",value:function(e){if("number"===typeof e){return console.log("number",3e3),3e3}var t=e.split(" ").length;return 400+50*e.length+200*t}},{key:"emitMessage",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.mesgTimeout&&(clearTimeout(this.mesgTimeout),this.mesgTimeout=null),this.setState({message:e,messageClassName:a}),this.mesgTimeout=setTimeout((function(){t.setState({message:"",messageClassName:""})}),this.getTimeToShowMessage(e))}},{key:"incrementStat",value:function(e){var t=Object(m.a)({},this.state.stats.temp),a=Object(m.a)({},this.state.stats.global);t[e]=t[e]+1,a[e]=a[e]+1,this.setState({stats:{temp:t,global:a}},this.save)}},{key:"focus",value:function(){this.input.blur(),this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.message,o=a.messageClassName,i=a.factor1,r=a.factor2,c=a.resultTry,l=a.stats,m=a.seconds,u=this.getPracticeList(),g=u.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);return s.a.createElement("div",{className:"factors"},s.a.createElement("div",{className:"message"},s.a.createElement("span",{className:o},n)),s.a.createElement("div",{className:"operation"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",null,i," x ",r," = ",s.a.createElement("input",{type:"number",maxLength:2,max:100,min:0,value:c,onChange:this.onChange,ref:function(t){e.input=t}}),s.a.createElement("button",{type:"submit",className:"hits"},"Go")),s.a.createElement("div",{className:"timer ".concat(this.getTimerClass(m))},m,"s"))),s.a.createElement("div",null,s.a.createElement("button",{className:"reset",onClick:this.reset},t("Reset")),s.a.createElement("button",{className:"skips",onClick:this.skip},t("Next")),s.a.createElement("button",{className:"reveals",onClick:this.reveal},t("Reveal"))),s.a.createElement(k,{stats:l.temp,type:t("Until reset")}),s.a.createElement(k,{stats:l.global,type:t("Global")}),u.length>0&&s.a.createElement("div",{className:"practice"},s.a.createElement("div",{className:"practice-title"},t("To study")," (",this.toComeBack.size," ",t("items"),")"),s.a.createElement("div",{className:"practice-title no-fast-hit"},t("Total negative points"),": ",g),s.a.createElement("div",{className:"practice-list"},u.map((function(a){return s.a.createElement("div",{key:a.key},a.key," ",e.showPracticeResults&&s.a.createElement("span",null,"= ",s.a.createElement("span",{className:"reveals"},a.result))," ",s.a.createElement("span",{className:"no-fast-hit"},"(",t("negative points"),": ",a.count,")"))}))),s.a.createElement("div",{className:"operation"},s.a.createElement("button",{className:"reveals",onClick:this.revealAll},t("Reveal all")))))}}]),a}(s.a.Component),b=Object(d.a)()(C),T=a(22),y=function(){return s.a.createElement("span",{className:"change-language"},s.a.createElement("select",{value:r.a.language,onChange:function(e){r.a.changeLanguage(e.target.value)}},s.a.createElement("option",{value:"en"},"English"),s.a.createElement("option",{value:"pt-BR"},"Portugu\xeas")))};var E=function(){var e=Object(T.a)().t;return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},e("App title")),s.a.createElement(y,null),s.a.createElement(b,null))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.230f153f.chunk.js.map